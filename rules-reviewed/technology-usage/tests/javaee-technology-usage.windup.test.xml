<?xml version="1.0"?>
<ruletest id="javaee-technology-usage-test" xmlns="http://windup.jboss.org/schema/jboss-ruleset">
    <testDataPath>data/javaee/</testDataPath>
    <rulePath>../javaee-technology-usage.windup.xml</rulePath>
    <ruleset>
        <rules>
            <rule id="javaee-technology-usage-00010-test">
                <when>
                    <not>
                        <technology-statistics-exists name="Java EE Batch" number-found="1">
                            <tag name="Execute"/>
                            <tag name="Processing"/>
                            <tag name="Java EE"/>
                        </technology-statistics-exists>
                    </not>
                </when>
                <perform>
                    <fail message="'Java EE Batch' Technology Statistic Not Found" />
                </perform>
            </rule>
            <rule id="javaee-technology-usage-00020-test">
                <when>
                    <not>
                        <technology-statistics-exists name="CDI" number-found="1">
                            <tag name="Execute"/>
                            <tag name="Processing"/>
                            <tag name="Java EE"/>
                        </technology-statistics-exists>
                    </not>
                </when>
                <perform>
                    <fail message="'CDI' Technology Statistic Not Found" />
                </perform>
            </rule>
            <rule id="javaee-technology-usage-00030-test">
                <when>
                    <not>
                        <technology-statistics-exists name="Java EE JSON-P" number-found="1">
                            <tag name="Execute"/>
                            <tag name="Processing"/>
                            <tag name="Java EE"/>
                        </technology-statistics-exists>
                    </not>
                </when>
                <perform>
                    <fail message="'Java EE JSON-P' Technology Statistic Not Found" />
                </perform>
            </rule>

            <rule id="javaee-technology-usage-00240-test">
                <when>
                    <not>
                    <technology-statistics-exists name="Java EE JACC" number-found="1">
                        <tag name="Security"/>
                        <tag name="Sustain"/>
                        <tag name="Java EE"/>
                    </technology-statistics-exists>
                    </not>
                </when>
                <perform>
                    <fail message="'Java EE JACC' Technology Statistic Not Found" />
                </perform>
            </rule>
            <rule id="javaee-technology-usage-00250-test">
                <when>
                    <not>
                    <technology-statistics-exists name="Java EE MEJB" number-found="1">
                        <tag name="Connect"/>
                        <tag name="EJB"/>
                        <tag name="Java EE"/>
                    </technology-statistics-exists>
                </not>
                </when>
                <perform>
                    <fail message="'Java EE MEJB' Technology Statistic Not Found" />
                </perform>                
            </rule>
            <rule id="javaee-technology-usage-00260-test">
                <when><not>
                    <technology-statistics-exists name="Java EE Deployment" number-found="1">
                        <tag name="Other"/>
                        <tag name="Deployment"/>
                        <tag name="Java EE"/>
                    </technology-statistics-exists>
                </not>
                </when>
                <perform>
                    <fail message="'Java EE Deployment' Technology Statistic Not Found" />
                </perform>
            </rule>
            <rule id="javaee-technology-usage-00270-test">
                <when>
                    <not>
                    <technology-statistics-exists name="Java EE WebServices Metadata" number-found="1">
                        <tag name="Connect"/>
                        <tag name="Http"/>
                        <tag name="Java EE"/>
                    </technology-statistics-exists>
                    </not>
                </when>
                <perform>
                    <fail message="'Java EE WebServices Metadata' Technology Statistic Not Found" />
                </perform>                
            </rule>
            <rule id="javaee-technology-usage-00280-test">
                <when>
                    <not>
                    <technology-statistics-exists name="Common Annotations" number-found="1">
                        <tag name="Connect"/>
                        <tag name="Other"/>
                        <tag name="Java EE"/>
                    </technology-statistics-exists>
                    </not>
                </when>
                <perform>
                    <fail message="'Common Annotations' Technology Statistic Not Found" />
                </perform>
            </rule>
            <rule id="javaee-technology-usage-00290-test">
                <when>
                    <not>
                    <technology-statistics-exists name="Java EE JAXB" number-found="1">
                        <tag name="Connect"/>
                        <tag name="Other"/>
                        <tag name="Java EE"/>
                    </technology-statistics-exists>
                    </not>
                </when>
                <perform>
                    <fail message="'Java EE JAXB' Technology Statistic Not Found" />
                </perform>                
            </rule>
            <rule id="javaee-technology-usage-00300-test">
                <when>
                    <not>
                    <technology-statistics-exists name="Java EE JAXR" number-found="1">
                        <tag name="Connect"/>
                        <tag name="Other"/>
                        <tag name="Java EE"/>
                    </technology-statistics-exists>
                    </not>
                </when>
                <perform>
                    <fail message="'Java EE JAXR' Technology Statistic Not Found" />
                </perform>
            </rule>
            <rule id="javaee-technology-usage-00310-test">
                <when>
                    <not>
                    <technology-statistics-exists name="Bean Validation" number-found="1">
                        <tag name="Validate"/>
                        <tag name="Sustain"/>
                        <tag name="Embedded"/>
                    </technology-statistics-exists>
                    </not>
                </when>
                <perform>
                    <fail message="'Bean Validation' Technology Statistic Not Found" />
                </perform>                
            </rule>
            <rule id="javaee-technology-usage-00320-test">
                <when>
                    <not>
                    <technology-statistics-exists name="JSON-B" number-found="1">
                        <tag name="MVC"/>
                        <tag name="View"/>
                        <tag name="Embedded"/>
                    </technology-statistics-exists>
                    </not>
                </when>
                <perform>
                    <fail message="'JSON-B' Technology Statistic Not Found" />
                </perform>
            </rule>
            <rule id="javaee-technology-usage-00330-test">
                <when>
                    <not>
                    <technology-statistics-exists name="Servlet" number-found="1">
                        <tag name="MVC"/>
                        <tag name="View"/>
                        <tag name="Embedded"/>
                    </technology-statistics-exists>
                    </not>
                </when>
                <perform>
                    <fail message="'Servlet' Technology Statistic Not Found" />
                </perform>                
            </rule>
        </rules>
    </ruleset>
</ruletest>
